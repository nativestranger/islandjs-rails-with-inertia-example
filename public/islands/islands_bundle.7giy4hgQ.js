(function(d){"use strict";var c={exports:{}},l={};var p;function f(){if(p)return l;p=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(a,e,o){var i=null;if(o!==void 0&&(i=""+o),e.key!==void 0&&(i=""+e.key),"key"in e){o={};for(var u in e)u!=="key"&&(o[u]=e[u])}else o=e;return e=o.ref,{$$typeof:r,type:a,key:i,ref:e!==void 0?e:null,props:o}}return l.Fragment=n,l.jsx=s,l.jsxs=s,l}var x;function h(){return x||(x=1,c.exports=f()),c.exports}var t=h();function R(r){const n=document.getElementById(r);if(!n)return console.warn(`IslandJS Turbo: Container ${r} not found`),{};const s=n.dataset.initialState;if(!s)return{};try{return JSON.parse(s)}catch(a){return console.warn("IslandJS Turbo: Failed to parse initial state",a),{}}}function b(r,n,s=!0){const a=document.getElementById(r);if(!a)return console.warn(`IslandJS Turbo: Container ${r} not found for caching`),()=>{};try{const e=JSON.stringify(n);a.dataset.initialState=e}catch(e){console.warn("IslandJS Turbo: Failed to immediately serialize state",e)}}const S=({containerId:r})=>{const n=R(r),[s,a]=d.useState(n.count||0),[e,o]=d.useState(n.message||"Hello from IslandJS Rails!"),[i,u]=d.useState(n.customMessage||""),g={count:s,message:e,customMessage:i};d.useEffect(()=>b(r,g,!0),[r,s,e,i]);const C=m=>{u(m.target.value)},j=()=>{i.trim()&&(o(i.trim()),u(""))};return t.jsxs("div",{style:{padding:"20px",border:"2px solid #4F46E5",borderRadius:"8px",backgroundColor:"#F8FAFC",textAlign:"center",fontFamily:"system-ui, sans-serif"},children:[t.jsx("h2",{style:{color:"#4F46E5",margin:"0 0 16px 0"},children:"ðŸï¸ React + IslandjsRails (Turbo-Cache Compatible)"}),t.jsx("p",{style:{margin:"0 0 16px 0",fontSize:"18px"},children:e}),t.jsxs("div",{style:{margin:"16px 0"},children:[t.jsx("input",{type:"text",placeholder:"Enter custom message",value:i,onChange:C,style:{padding:"8px",marginRight:"8px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"14px"}}),t.jsx("button",{onClick:j,style:{padding:"8px 16px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",marginRight:"8px"},children:"Apply Message"})]}),t.jsxs("button",{onClick:()=>a(s+1),style:{padding:"8px 16px",backgroundColor:"#4F46E5",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},children:["Clicked ",s," times"]}),t.jsxs("div",{style:{marginTop:"16px",fontSize:"12px",color:"#6B7280",textAlign:"left",backgroundColor:"#F9FAFB",padding:"12px",borderRadius:"4px"},children:[t.jsx("strong",{children:"Turbo-Cache Demo:"}),t.jsx("br",{}),"â€¢ Navigate away and back - your count and message persist!",t.jsx("br",{}),"â€¢ Container ID: ",t.jsx("code",{children:r}),t.jsx("br",{}),"â€¢ State: ",t.jsx("code",{children:JSON.stringify(g)})]})]})};window.islandjsRails={HelloWorld:S}})(React);
